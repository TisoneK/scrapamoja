# Summary Secondary Tab Selector Configuration for Finished Basketball Matches
# This is the default view under the Match primary tab
# URL pattern: /match/basketball/{team1}-{id1}/{team2}-{id2}/?mid={matchId}

selector_id: "secondary_summary_tab"
description: "Summary secondary tab under Match for finished basketball matches"
context: "finished_basketball_match"
version: "1.0"

strategies:
  # Primary strategy: data-analytics-alias attribute (most reliable)
  - type: "css"
    selector: "a[data-analytics-alias='match-summary']"
    weight: 1.0
    attributes:
      - "href"
      - "data-analytics-alias"
    wait_for: "visible"
    timeout: 5000
    primary_selectors:
      - "a[data-analytics-alias='match-summary'][aria-current='page']"
      - "a[data-analytics-alias='match-summary'].selected"

  # Secondary strategy: button with data-testid in secondary tab container
  - type: "css"
    selector: "button[data-testid='wcl-tab']"
    weight: 0.9
    parent_context: ".matchSummaryTabs"
    text_match: "Summary"
    attributes:
      - "data-selected"

  # Tertiary strategy: XPath for text content
  - type: "xpath"
    selector: "//a[contains(@href, '/match/basketball/')][not(contains(@href, '/summary/point-by-point/'))]"
    weight: 0.8
    text_match: "Summary"

# Navigation configuration
navigation:
  method: "url"  # Navigate via URL for reliability
  url_pattern: "/match/basketball/{team1}-{id1}/{team2}-{id2}/?mid={matchId}"
  verify_selector: "a[data-analytics-alias='match-summary'][aria-current='page']"
  verify_button: "button[data-testid='wcl-tab'][data-selected='true']"

# Tab verification
verification:
  active_indicators:
    - selector: "a[data-analytics-alias='match-summary'][aria-current='page']"
      attribute: "aria-current"
      value: "page"
    - selector: "button[data-testid='wcl-tab'][data-selected='true']"
      attribute: "data-selected"
      value: "true"
  url_patterns:
    - "/match/basketball/"
    - excluded: "/summary/point-by-point/"

# Metadata
metadata:
  sport: "basketball"
  match_state: "finished"
  tab_type: "secondary"
  tab_name: "summary"
  parent_tab: "match"
  analytics_alias: "match-summary"
