# Odds Tab Selector Configuration for Finished Basketball Matches
# Flashscore uses data-analytics-alias for tab identification
# URL pattern: /match/basketball/{team1}-{id1}/{team2}-{id2}/odds/?mid={matchId}

selector_id: "primary_odds_tab"
description: "Primary Odds tab for finished basketball matches"
context: "finished_basketball_match"
version: "1.0"

strategies:
  # Primary strategy: data-analytics-alias attribute (most reliable)
  - type: "css"
    selector: "a[data-analytics-alias='odds-comparison']"
    weight: 1.0
    attributes:
      - "href"
      - "data-analytics-alias"
    wait_for: "visible"
    timeout: 5000
    primary_selectors:
      - "a[data-analytics-alias='odds-comparison'][aria-current='page']"
      - "a[data-analytics-alias='odds-comparison'].selected"

  # Secondary strategy: button with data-testid
  - type: "css"
    selector: "button[data-testid='wcl-tab']"
    weight: 0.9
    parent_context: ".detailOver"
    text_match: "Odds"
    attributes:
      - "data-selected"

  # Tertiary strategy: XPath for href containing /odds/
  - type: "xpath"
    selector: "//a[contains(@href, '/odds/')]"
    weight: 0.8
    text_match: "Odds"

# Navigation configuration
navigation:
  method: "url"  # Navigate via URL for reliability
  url_pattern: "/match/basketball/{team1}-{id1}/{team2}-{id2}/odds/?mid={matchId}"
  verify_selector: "a[data-analytics-alias='odds-comparison'][aria-current='page']"
  verify_button: "button[data-testid='wcl-tab'][data-selected='true']"

# Tab verification
verification:
  active_indicators:
    - selector: "a[data-analytics-alias='odds-comparison'][aria-current='page']"
      attribute: "aria-current"
      value: "page"
    - selector: "button[data-testid='wcl-tab'][data-selected='true']"
      attribute: "data-selected"
      value: "true"
  url_patterns:
    - "/match/basketball/"
    - required: "/odds/"

# Metadata
metadata:
  sport: "basketball"
  match_state: "finished"
  tab_type: "primary"
  tab_name: "odds"
  analytics_alias: "odds-comparison"
